# 第5章 语句

## 5.1 简单语句

## 5.2 语句作用域
可以在if、switch、while和for语句的控制结构内定义变量。定义在控制结构中的变量只在相应语句的内部可见，一旦语句结束，变量就超出其作用范围了。

## 5.3 条件语句
### 5.3.1 if语句
```text
if(condition)
    statement
else
    statement2
```
### 5.3.2 switch语句

## 5.4 迭代语句
### 5.4.1 while语句
### 5.4.2 传统的for语句
### 5.4.3 范围for语句
### 5.4.4 do while语句
```text
while(condition)
    statement
    
for(init-statement; condition; expression)
    statement

for(declaration : expression)
    statement

do
    statement
while(condition)
```
## 5.5 跳转语句
### 5.5.1 break语句
### 5.5.2 continue语句
### 5.5.3 goto语句
`break、continue、goto、return`
## 5.6 try语句块和异常处理
### 5.6.1 throw表达式
### 5.6.1 try语句块
```text
try {
    program-statements
} catch (exception-declaration) {
    handler-statement
} catch (exception-declaration) {
    handler-statement
}
```
### 5.6.3 标准异常
<table>
    <tr>
        <th colspan="2">表5.1 stdexcept定义的异常类</th>
    </tr>
    <tr>
        <td>exception</td><td>最常见的问题</td>
    </tr>
    <tr>
        <td>runtime_error</td><td>只有在运行时才能检测出的问题</td>
    </tr>
    <tr>
        <td>range_error</td><td>运行时错误，生成的结果超出了有意义的值域范围</td>
    </tr>
    <tr>
        <td>overflow_error</td><td>运行时错误，计算上溢</td>
    </tr>
    <tr>
        <td>underflow_error</td><td>运行时错误，计算下溢</td>
    </tr>
    <tr>
        <td>logic_error</td><td>程序逻辑错误</td>
    </tr>
    <tr>
        <td>domain_error</td><td>逻辑错误：参数对应的结果值不存在</td>
    </tr>
    <tr>
        <td>invalid_argument</td><td>逻辑错误：无效参数</td>
    </tr>
    <tr>
        <td>length_error</td><td>逻辑错误：试图创建一个超出该类型最大长度的对象</td>
    </tr>
    <tr>
        <td>out_of_range</td><td>逻辑错误：使用一个超出有效范围的值</td>
    </tr>
</table>










## 第5章 练习题
### 5.1节练习
<b>练习5.1</b> 什么是空语句？什么时候会用到空语句？

<b>练习5.2</b> 什么是块？什么时候会用到块？

<b>练习5.3</b> 使用逗号运算符重写1.4.1节的while循环，使它不再需要块，观察改写后的代码的可读性是提高了还是下降了。

### 5.2节练习
<b>练习5.4</b> 说明下列例子的含义，如果存在问题，试着修改它。
```text
(a) while(string::iterator iter != s.end()) { /**/ }
(b) while(bool status = find(word) { /**/ }
        if(!status) { /**/ }
```

### 5.3.1节练习
<b>练习5.5</b> 写一段自己的程序，使用ifelse语句实现把数字成绩转换成字母成绩的要求。

<b>练习5.6</b> 改写上一题的程序，使用条件运算符代替ifelse语句。

<b>练习5.7</b> 改写下列代码段中的错误。
```text
(a) if(ival1 != ival2)
        ival1 = ival2;
    else ival1 = ival2 = 0;
(b) if(ival < minval)
        minval = ival;
        occurs = 1;
(c) if(int ival = get_value())
        cout << "ival = " << ival << endl;
    if(!ival)
        cout << "ival = 0\n";
(d) if(ival = 0)
        ival = get_value();
```
<b>练习5.8</b> 什么是"悬垂else"？C++是怎么处理else子句的？

### 5.3.2节练习
<b>练习5.9</b> 编写一段程序，使用一系列if语句统计从cin读入的文本中有多少元音字母。

<b>练习5.10</b> 我们之前实现的统计元音字符的程序存在一个问题：如果元音字母以大写形式出现，则不会被统计在内。编写程序，既统计元音字母的小写形式，
也统计大写形式。

<b>练习5.11</b> 修改统计元音字母的程序，使其也能统计空格、制表符和换行符的数量。

<b>练习5.12</b> 修改统计元音字母的程序，使其能统计以下含有2个字符的字符序列的数量：ff、fl和fi。

<b>练习5.13</b> 下面显示的每个程序都含有一个常见的编程错误，指出错误在哪里，然后修改它们。

### 5.4.1节练习
<b>练习5.14</b> 编写一段程序，从标准输入中读取若干string对象并查找连续重复出现的单词。所谓连续重复出现是指：一个单词后面紧跟着这个单词本身。要求
记录连续重复出现的最大次数以及对应的单词。如果这样的单词存在，输出重复出现的最大次数；如果不存在，输出一条信息说明任何单词都没有连续出现过。例如，如果
输入是"how now now now brown cow cow"，那么输出应该表明单词now连续出现了3次。

### 5.4.2节练习
<b>练习5.15</b> 说明下列循环的含义并改正其中的错误。
```text
(a) for(int ix = 0; ix != sz; ++ix) { /**/ }
    if(ix != sz)
        // ...
(b) int ix;
    for(ix != sz; ++ix) { /**/ }
(c) for(int ix = 0; ix != sz; ++ix, ++sz} { /**/ }
```
<b>练习5.16</b> while循环特别适用于那种条件保持不变、反复执行操作的情况，例如，当未达到文件末尾时不断读取下一个值。for循环则更像是在按
步骤迭代，它的索引值在某个范围内依次变化。根据某种循环的习惯用法各自编写一段程序，然后分别用另一种循环编写。如果只能使用一种循环，你倾向于使用那种呢？

<b>练习5.17</b> 假设有2个包含整数的vector对象，编写一段程序，检验其中一个vector对象是否是另一个的前缀。为了实现这一目标，对于2个不等长的vector
对象，只需挑出长度较短的那个，把它的所有元素和另一个vector对象比较即可。


### 5.4.4节练习
<b>练习5.18</b> 说明下列循环的含义并改正其中的错误。
```text
(a) do
        int v1, v2;
        cout << "Please enter two numbers to sum:";
        if(cin >> v1 >> v2)
            cout << "Sum is: " << v1 + v2 << endl;
    while(cin);

(b) do {
        // ...
    } while (int ival = get_response());

(c) do {
        int ival = get_response();
    } while (ival)
```
<b>练习5.19</b> 编写一段程序，使用do while循环重复执行下述任务：首先提示用户输入2个string对象，然后挑出较短的那个并输出。

### 5.5.1节练习
<b>练习5.20</b> 编写一段程序，从标准输入中读取string对象的序列直到连续出现2个相同的单词或者所有单词都读完为止。使用while循环一次读取一个单词，
当一个单词连续出现2次时使用break语句终止循环。输出连续重复出现的单词，或者输出一个消息说明没有任何单词是连续重复出现的。

### 5.5.2节练习
<b>练习5.21</b> 修改5.5.1节练习题的程序，使其找到的重复单词必须以大写字母开头。

### 5.5.3节练习
<b>练习5.22</b> 本节的最后一个例子跳回到begin，其实使用循环能更好地完成该任务。重写这段代码，注意不要使用goto语句。

### 5.6.3节练习
<b>练习5.23</b> 编写一段程序，从标准输入读取2个整数，输出第1个数除以第2个数的结果。

<b>练习5.24</b> 修改你的程序，使得当第2个数为0时抛出异常。先不要设定catch子句，运行程序并真的为除数输入0，看看会发生什么？

<b>练习5.25</b> 修改上一题的程序，使用try语句块去捕获异常。catch子句应该为用户输出一条提示信息，询问是否输入新数并重新执行try语句块的内容。



