## 第3章笔记

### 3.1 命名空间的using声明
头文件中不应包含using声明。

### 3.2.2 操作string对象
字符串字面值与string是不同的类型。

string::size_type是一个无符号类型的值。

### 3.3 标准库类型vector
因为引用不是对象，所以不存在包含引用的vector。

范围for语句体内不应改变其所遍历序列的大小。

### 3.4 迭代器
使用了迭代器的循环体，不能向其容器添加/删除元素，否则会导致迭代器失效。

<table>
    <tr>
        <th colspan="2">vector和string迭代器支持的运算</th>
    </tr>
    <tr>
        <td>iter + n</td> <td>迭代器加上一个整数仍然是一个迭代器</td>
    </tr>
    <tr>
        <td>iter - n</td> <td>迭代器减去一个整数仍然是一个迭代器</td>
    </tr>
    <tr>
        <td>iter += n</td> <td>将iter加上n的结果赋给iter</td>
    </tr>
    <tr>
        <td>iter -= n</td> <td>将iter减去n的结果赋给iter</td>
    </tr>
    <tr>
        <td>iter1 - iter2</td> <td>2个迭代器相减的结果是它们的距离</td>
    </tr>
    <tr>
        <td> >、>=、<、<= </td> <td>如果某迭代器在另一个迭代器位置之前，则说前者小于后者</td>
    </tr>
</table>

### 3.5 数组
不能将数组的内容拷贝给其他数组作为初始值，也不能用数组为其他数组赋值。

数组的尾后指针不能执行解引用和递增操作。

### 3.5.4 C风格字符串
```c++
char ca[] = {'a', 'b', 'c', '\0'};
```

### 3.6 多维数组
对于二维数组，常常把第一个维度成为**行**，把第二哥维度成为**列**。
```c++
int *ip[4]  // 数组，含有4个整型指针
int (*ip)[4]; // 指针，指向含有4个整型的数组
```








## 第3章练习题
### 3.1节练习
<b>练习3.1</b> 使用恰当的using声明重做1.4.1节和2.6.2节的练习。

### 3.2.2节练习
<b>练习3.2</b> 编写一段程序从标准输入中一次读入一整行，然后修改该程序使其一次读入一个词。

<b>练习3.3</b> 请说明string类的输入运算符和getline函数分别是如何处理空白字符的。

<b>练习3.4</b> 编写一段程序读入2个字符串，比较其是否相等并输出结果。如果不相等，输出较大的那个字符串。再比较2个字符串是否等长，如果不等，输出较长的那个字符串。

<b>练习3.5</b> 编写一段程序从标准输入中读入多个字符串并将它们连接在一起，输出连接后的字符串。用空格把它们分割开来也试一次。


### 3.2.3节练习
<b>练习3.6</b> 编写一段程序，使用范围for语句将字符串内的所有字符用X代替。

<b>练习3.7</b> 对于上一题，如果将循环控制变量的类型设为char，会发生什么？先估计一下结果，然后实际编程进行验证。

<b>练习3.8</b> 分别用while循环和传统的for循环重写第一题，你觉得哪种形式更好呢？为什么？

<b>练习3.9</b> 下面的程序有何作用？它合法吗？如果不合法，为什么？
```c++
string s;
cout << s[0] << endl;
```
<b>练习3.10</b> 编写一段程序，读入一个包含标点符号的字符串，将标点符号去除后输出字符串剩余的部分。

<b>练习3.11</b> 下面的范围for语句合法吗？如果合法，c的类型是什么？
```c++
const string s = "keep out!";
for (auto &c : s) { /* ... */ }
```

### 3.3.1节练习
<b>练习3.12</b> 下列vector对象的定义有不正确的吗？如果有，请找出并解释其错误的原因。
```text
(a) vector<vector<int>> ivec;
(b) vector<string> svec = ivec;
(c) vector<string> svec(10, "null");
```

<b>练习3.13</b> 下列的vector对象各包含多少各元素？这些元素的值分别是多少？
```text
(a) vector<int> v1;             (b) vector<int> v2(10);
(c) vector<int> v3(10, 52);     (d) vector<int> v4{10};
(e) vector<int> v5{10, 42};     (f) vector<string> v6{10};
(g) vector<string> v7{10, "hi"};
```

### 3.3.2节练习
<b>练习3.14</b> 编写一段程序，用cin读入一组整数并把它们存入一个vector对象中。

<b>练习3.15</b> 改写上题的程序，不过这次读入的是字符串。

### 3.3.3节练习
<b>练习3.16</b> 编写一段程序，把练习3.13中vector对象的容量和具体内容输出。检验你之前的回答是否正确，如果不对，回过头请重新学习3.3.1节。

<b>练习3.17</b> 从cin读入一组词并把它们存入一个vector对象，然后设法把所有词都改写成大写形式，输出改变后的结果，每个词占一行。

<b>练习3.18</b> 下面的程序合法吗？如果不合法，你准备如何修改？
```c++
vector<int> ivec;
ivec[0] = 42;
```

<b>练习3.19</b> 如果想定义一个含有10个元素的vector对象，所有元素的值都是42，请列举出3种不同的实现方法，哪种方法更好呢？为什么？

<b>练习3.20</b> 读入一组整数并把它们存入一个vector对象，将每对相邻整数的和输出。改写你的程序，这次要求先输出第1个和最后一个元素的和，接着输出第2个和倒数第2个元素和，依此类推。

### 3.4.1节练习
<b>练习3.21</b> 请使用迭代器重做3.3.3节的第一个练习。

<b>练习3.22</b> 修改之前哪个输出text第一段的程序，首先把text的第一段全都改成大写形式，然后再输出它。

<b>练习3.23</b> 编写一段程序，创建一个含有10个整数的vector对象，然后使用迭代器将所有元素的值都变成原来的2倍。输出vector对象的内容。

### 3.4.2节练习
<b>练习3.24</b> 请使用迭代器重做3.3.3节的最后一个练习。

<b>练习3.25</b> 3.3.3节划分分数段的程序是使用下标运算符实现的，请利用迭代器改写该程序并实现相同的功能。

<b>练习3.26</b> 在100页的二分搜索程序中，为什么用的是mid = beg + (end - beg) / 2，而非mid = (beg + end) / 2？


### 3.5.1节练习
<b>练习3.27</b> 假设txt_size时一个无参数的函数，它的返回值是int。请回答下列哪个定义是非法的？为什么？
```text
unsigned buf_size = 1024;
(a) int ia[buf_size];       (b) int ia[4 * 7 - 14];
(c) int ia[txt_size()];     (d) char st[11] = "fundamental";
```

<b>练习3.28</b> 下列数组中元素的值是什么？
```c++
string sa[10];
int ia[10];
int main() {
    string sa2[10];
    int ia2[10];
}
```

<b>练习3.29</b> 相比于vector，数组有哪些缺点，请列举。

### 3.5.2节练习
<b>练习3.30</b> 指出下面代码中的索引错误。
```c++
constexpr size_t array_size = 10;
int ia[array_size];
for (size_t ix = 1; ix <= array_size; ++ix)
    ia[ix] = ix;
```

<b>练习3.31</b> 编写一段程序，定义一个含有10个int的数组，令每个元素的值就是其下标值。

<b>练习3.32</b> 将上一题刚刚创建的数组拷贝给另外一个数组。利用vector重写程序，实现类似的功能。

<b>练习3.33</b> 对于下面的程序，如果不初始化scores将会发生什么？
```c++
unsigned scores[11] = {};
unsigned grade;
while (cin >> grade) {
    if (grade <= 100)
        ++scores[grade/10];
}
```

### 3.5.3节练习
<b>练习3.34</b> 假定p1和p2指向同一个数组中的元素，则下面程序的功能是什么？什么情况下该程序是非法的？

<b>练习3.35</b> 编写一段程序，利用指针将数组中的元素置0。

<b>练习3.36</b> 编写一段程序，比较2个数组是否相等。再写一段程序，比较2个vector是否相等。

### 3.5.4节练习
<b>练习3.37</b> 下面的程序是何含义，程序的输出结果是什么？
```c++
const char ca[] = {'h', 'e', 'l', 'l', 'o'};
const char *cp = ca;
while (*cp) {
    cout << *cp << endl;
    ++cp;
}
```

<b>练习3.38</b> 在本节中我们提到，将2个指针相加不但是非法的，而且无意义，请解释？

<b>练习3.39</b> 编写一段程序，比较2个string对象；再编写一段程序，比较2个C风格字符串的内容。

<b>练习3.40</b> 编写一段程序，定义2个字符数组并用字符串字面值初始化它们，接着再定义一个字符数组存放前2个数组连接后的结果。
使用strcpy和strcat把前2个数组的内容拷贝到第3个数组中。

### 3.5.5节练习
<b>练习3.41</b> 编写一段程序，用整型数组初始化一个vector对象。

<b>练习3.42</b> 编写一段程序，将含有整数元素的vector对象拷贝到一个整型数组。

### 3.5.6节练习
<b>练习3.43</b> 编写3个不同版本的程序，令其均能输出ia的元素。版本1使用范围for语句管理迭代过程；版本2和版本3都使用普通的for语句，其中版本2要求用
下标运算符，版本3要求用指针。此外，在所有3个版本的程序中都要直接写出数据类型，不能使用类型别名、auto关键字或decltype关键字。

<b>练习3.44</b> 改写上一个练习中的程序，使用类型别名来代替循环控制变量的类型。

<b>练习3.45</b> 再一次改写程序，这次使用auto关键字。










